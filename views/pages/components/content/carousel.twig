{# DO NOT EDIT. This file was compiled from Markdown; please edit the source .md
file and run the gulp process to compile (either `gulp` or `npm run dev`). #}
{% extends "@tc/base.twig" %}
{% block body %}
{% embed "@tc/includes/example.twig" %}
{% block content %}
<tcds-carousel style="--tcds-carousel-slide-gap: 1rem">
  <tcds-slide>
    <p class="carousel-example">Slide 1</p>
  </tcds-slide>
  <tcds-slide>
    <p class="carousel-example">Slide 2</p>
  </tcds-slide>
  <tcds-slide>
    <p class="carousel-example">Slide 3</p>
  </tcds-slide>
</tcds-carousel>
{% endblock %}
{% block code %}
<tcds-carousel>
  <tcds-slide>
    <p style="...">Slide 1</p>
  </tcds-slide>
  <tcds-slide>
    <p style="...">Slide 2</p>
  </tcds-slide>
  <tcds-slide>
    <p style="...">Slide 3</p>
  </tcds-slide>
</tcds-carousel>
{% endblock %}
{% endembed %}


<h2 id="guidance">Guidance</h2>
<h3 id="best-practices">Best practices</h3>
<p><strong>Use with caution.</strong> <tcds-fn-ref aria-details="runyon-2013">Users seldom interact with carousels, even when implemented properly.</tcds-fn-ref> <tcds-fn-ref aria-details="nngroup-auto-forwarding">The inherent <a href="https://www.nngroup.com/articles/interaction-cost-definition/" title="Interaction cost – Nielsen Norman Group">interaction cost</a> of carousels can degrade user experience,</tcds-fn-ref> especially with goal-oriented content.</p>
<p><strong>Curate relevant, quality carousel content.</strong> <tcds-fn-ref aria-details="smag-2016">Unhelpful or unattractive content may discourage further investigation and encourage <a href="https://www.nngroup.com/articles/tunnel-vision-and-selective-attention/" title="Tunnel Vision and Selective Attention – Nielsen Norman Group">banner blindness</a> for carousels.</tcds-fn-ref> Consider, however, that helpful content is likely <a href="#when-not-to-use">better served by something else</a>.</p>
<p><strong>Limit the number of slides and prioritize their order.</strong> Account for the fact that <tcds-fn-ref aria-details="smag-2016">most users miss most carousel content.</tcds-fn-ref></p>
<p><strong>Allow sufficient time between slides.</strong> If playable, base the <a href="#auto-forwarding">timing</a> on a generous approximation of how long the most content-dense slide takes to understand and interact with.</p>
<p><strong>Avoid blocks of text as slide content.</strong> Stick to content that is quickly scanned and easily understood, like images and cards (without blurbs).</p>
<h4 id="when-to-use">When to use</h4>
<p><strong>To present a series of sample or interchangeable content.</strong> For example, a decorative picture slideshow or a feed for related articles. Limit use of carousels to content that users were not likely searching for, and may only be passively interested in.</p>
<h4 id="when-not-to-use">When not to use</h4>
<p><strong>To present important or goal-oriented content.</strong> Especially because slides are not labeled, users looking for something specific are less likely to find it if it&#39;s buried in a carousel. <tcds-fn-ref aria-details="nngroup-auto-forwarding">Autoplaying carousels further increase the likelihood of missed content.</tcds-fn-ref></p>
<p><strong>When a different component is a better fit.</strong> Carousels are useful to condense content into one container, then allow it to be progressively or selectively disclosed. If the content is goal-oriented, consider a different disclosure component, such as:</p>
<ul>
<li><a href="/components/interface/tabs">Tabs</a>, useful for quick comparison or selection between different pieces of content of the same information type.</li>
<li><a href="/components/content/accordion">Accordion</a>, useful for associating hidden content with descriptive headings, allowing users to more quickly scan a page and choose whether to see the content.</li>
</ul>
<p>Note that both the above components label their sections, imparting <a href="https://www.nngroup.com/articles/information-scent/" title="Information scent – Nielsen Norman Group">information scent</a> that increases the likelihood of users finding what they&#39;re looking for.</p>
<tcds-fn-list>
  <ol>
    <li id="runyon-2013"><a href="https://erikrunyon.com/2013/01/carousel-interaction-stats/">Carousel Interaction Stats</a> - Erik Runyon (2013)</li>
    <li id="nngroup-auto-forwarding"><a href="https://www.nngroup.com/articles/auto-forwarding/">Auto-Forwarding Carousels and Accordions Annoy Users and Reduce Visibility</a> - Nielsen Norman Group (2013)</li>
    <li id="smag-2016"><a href="https://www.smashingmagazine.com/2016/07/ten-requirements-for-making-home-page-carousels-work-for-end-users/">10 Requirements For Making Home Page Carousels Work For End Users (If Needed)</a> - Smashing Magazine (2016)</li>
  </ol>
</tcds-fn-list>

<h3 id="usage">Usage</h3>
<h4 id="auto-forwarding">Auto-forwarding</h4>
<p>To allow the user to play (auto-forward) the carousel, specify a timing interval. In HTML, this is done with the <a href="#timing-attribute"><code>timing</code> attribute</a> (value in seconds). A button will appear that toggles between play and pause when clicked.</p>
<p>By default, the user will have to click the play button for the carousel to begin auto-forwarding. To have it play by default (subject to <a href="#usability-checklist">certain conditions</a>), toggle on the initial &quot;playing&quot; state (via the <a href="#playing-attribute"><code>playing</code> attribute</a> in HTML).</p>

{% embed "@tc/includes/example.twig" with {line_highlight: 1} %}
{% block content %}
<tcds-carousel style="--tcds-carousel-slide-gap: 1rem" timing="5" playing>
  <tcds-slide>
    <p class="carousel-example">Slide 1</p>
  </tcds-slide>
  <tcds-slide>
    <p class="carousel-example">Slide 2</p>
  </tcds-slide>
  <tcds-slide>
    <p class="carousel-example">Slide 3</p>
  </tcds-slide>
</tcds-carousel>
{% endblock %}
{% block code %}
<tcds-carousel timing="5" playing>
  <tcds-slide>
    <p style="...">Slide 1</p>
  </tcds-slide>
  <tcds-slide>
    <p style="...">Slide 2</p>
  </tcds-slide>
  <tcds-slide>
    <p style="...">Slide 3</p>
  </tcds-slide>
</tcds-carousel>
{% endblock %}
{% endembed %}


<h4 id="multiple-slides">Multiple slides</h4>
<p>Sometimes you may want to show multiple slides in the viewport at once, like when displaying a series of teaser cards. In HTML, this is done via the <a href="#multiple-attribute"><code>multiple</code> attribute</a>.</p>
<p>You cannot explicitly set the number of slides you want to appear at once, but you can adjust the slide size and gap values to your specific use case (see the <a href="#styling">styling API</a>, or the example below).</p>

{% embed "@tc/includes/example.twig" with {line_highlight: "1-3"} %}
{% block content %}
<tcds-carousel multiple style="
  --tcds-carousel-slide-size: min(400px, 70vw);
  --tcds-carousel-slide-gap: 1rem;
">
  <tcds-slide>
    <p class="carousel-example">Slide 1</p>
  </tcds-slide>
  <tcds-slide>
    <p class="carousel-example">Slide 2</p>
  </tcds-slide>
  <tcds-slide>
    <p class="carousel-example">Slide 3</p>
  </tcds-slide>
</tcds-carousel>
{% endblock %}
{% block code %}
<tcds-carousel multiple style="
  --tcds-carousel-slide-size: min(400px, 70vw);
  --tcds-carousel-slide-gap: 1rem;
">
  <tcds-slide>
    <p style="...">Slide 1</p>
  </tcds-slide>
  <tcds-slide>
    <p style="...">Slide 2</p>
  </tcds-slide>
  <tcds-slide>
    <p style="...">Slide 3</p>
  </tcds-slide>
</tcds-carousel>
{% endblock %}
{% endembed %}


<p>For responsiveness, adjusting the slide sizes involves setting the <em>initial</em> size, which is fixed (400px in the example above) and the <em>minimum</em> size, which is relative (70% of the viewport in the example above). Under the hood, this is done with the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/min"><code>min()</code> function</a> (picks the smallest calculated value between two). You can also set the slide size to <code>auto</code> which will adapt each slide to the content.</p>
<h4 id="default-selected">Default selected</h4>
<p>You can change which slide is selected by default by toggling on its &quot;selected&quot; state (via the <a href="#selected-attribute"><code>selected</code> attribute</a> in HTML).</p>

{% embed "@tc/includes/example.twig" with {line_highlight: 5} %}
{% block content %}
<tcds-carousel style="--tcds-carousel-slide-gap: 1rem">
  <tcds-slide>
    <p class="carousel-example">Slide 1</p>
  </tcds-slide>
  <tcds-slide selected>
    <p class="carousel-example">Slide 2</p>
  </tcds-slide>
  <tcds-slide>
    <p class="carousel-example">Slide 3</p>
  </tcds-slide>
</tcds-carousel>
{% endblock %}
{% block code %}
<tcds-carousel>
  <tcds-slide>
    <p style="...">Slide 1</p>
  </tcds-slide>
  <tcds-slide selected>
    <p style="...">Slide 2</p>
  </tcds-slide>
  <tcds-slide>
    <p style="...">Slide 3</p>
  </tcds-slide>
</tcds-carousel>
{% endblock %}
{% endembed %}


<h4 id="control-position">Control position</h4>
<p>By default, the indicator buttons and navigation arrows are placed beneath the slides and horizontally centered. You can also place them on top of the slides and shifted to the right by setting the <a href="#navigation-attribute"><code>navigation</code> attribute</a> to <code>top right</code>.</p>

{% embed "@tc/includes/example.twig" with {line_highlight: 1} %}
{% block content %}
<tcds-carousel navigation="top right" style="--tcds-carousel-slide-gap: 1rem">
  <tcds-slide>
    <p class="carousel-example">Slide 1</p>
  </tcds-slide>
  <tcds-slide>
    <p class="carousel-example">Slide 2</p>
  </tcds-slide>
  <tcds-slide>
    <p class="carousel-example">Slide 3</p>
  </tcds-slide>
</tcds-carousel>
{% endblock %}
{% block code %}
<tcds-carousel navigation="top right">
  <tcds-slide>
    <p style="...">Slide 1</p>
  </tcds-slide>
  <tcds-slide>
    <p style="...">Slide 2</p>
  </tcds-slide>
  <tcds-slide>
    <p style="...">Slide 3</p>
  </tcds-slide>
</tcds-carousel>
{% endblock %}
{% endembed %}


<h2 id="documentation">Documentation</h2>
<h3 id="accessibility">Accessibility</h3>
<h4 id="usability">Usability</h4>
<p>The UX behavior of the carousel is as follows.</p>
<details>
  <summary>Checklist</summary>
  <div>

<ol>
<li>The carousel advances forward* one slide when<ol>
<li>the &quot;next&quot; button is pressed, or</li>
<li>the right arrow key is pressed while an indicator has keyboard focus, or</li>
<li>the user swipes left or scrolls right inside the slide container (does not recycle)*, or</li>
<li>the carousel is playing.</li>
</ol>
</li>
<li>The carousel advances backward* one slide when<ol>
<li>the &quot;previous&quot; button is pressed, or</li>
<li>the left arrow key is pressed while an indicator has keyboard focus, or</li>
<li>the user swipes right or scrolls left inside the slide container (does not recycle).*</li>
</ol>
</li>
<li>A play/pause button appears if a <code>timing</code> interval is provided.</li>
<li>The carousel begins automatically advancing through the slides at a set interval when the &quot;play&quot; button is pressed, then<ol>
<li>the &quot;play&quot; button becomes a &quot;pause&quot; button.</li>
</ol>
</li>
<li>The carousel stops advancing through the slides when the &quot;pause&quot; button is pressed, then<ol>
<li>the &quot;pause&quot; button becomes a &quot;play&quot; button.</li>
</ol>
</li>
<li>The carousel skips to a specific slide when its associated indicator dot is selected.</li>
<li>Autoplay<ol>
<li>The carousel automatically begins playing if <code>timing</code> attribute is given, the <code>playing</code> attribute is present, &quot;reduced motion&quot; preference is <em>not</em> set, <em>and</em> the device is hover-enabled (i.e. not touchscreen).</li>
<li>Responsive play state. If playing:<ol>
<li>The carousel will temporarily pause itself when any of the following occurs, <em>and</em> will resume when they are no longer true <em>or</em> when the inverse occurs:<ol>
<li>The user hovers over the slide container (pointing device only).</li>
<li>An element inside the slide container receives keyboard focus.</li>
<li>The carousel is not fully in view (due to scrolling).</li>
<li>The user navigates away from the browser tab or window.</li>
<li>A <a href="/components/dialog">dialog</a> is open.</li>
</ol>
</li>
<li>The carousel will stop until the user presses the play button when any of the following occurs:<ol>
<li>The user presses the pause button.</li>
<li>The user presses the next or previous buttons.</li>
<li>The user selects an indicator (clicks or navigates using the arrow keys).</li>
<li>The user swipes between slides (<code>touchstart</code> event).**</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
<p><small>* Except where otherwise noted, advancing &quot;forward&quot; when the last slide is active means returning to the first slide (recycling); and vice versa, advancing &quot;backward&quot; when the first slide is active means recycling to the last slide.</small></p>
<p><small>** Scrolling (with a mouse or trackpad, as opposed to swiping with a touchscreen) is excluded from triggering a pause, because it inherits the temporary pause scenario of the hover state. The carousel will resume playing when the cursor exits the slide container, a condition that doesn&#39;t exist with touchscreen devices.</small></p>
</div>
</details>

<h4 id="screen-reader-behavior">Screen reader behavior</h4>
<p>Screen readers will announce that a carousel is a carousel through the <code>aria-roledescription</code>.</p>
<p>When the carousel is not playing, the element that contains the slides has an <code>aria-live</code> attribute of <code>polite</code>. The result is that, when using a screen reader, after a new slide becomes visible (by selecting an indicator or arrow button), it is read to the user after the user becomes idle (so as to not interrupt other announcements).</p>
<p>However, if a carousel is playing, <code>aria-live</code> is set to <code>off</code> so that changes are not announced. The user would have to focus inside the carousel for the slide contents to be read, at which point the carousel will pause itself due to the received focus. This is to limit intrusiveness and interruptions, and simplify the screen reader experience.</p>
<h3 id="api">API</h3>
<h4 id="tcds-carousel"><code>tcds-carousel</code></h4>

{{ include("@tc/includes/api.twig", {
  attributes: [
    {
      name: "multiple",
      type: ["prop", "boolean"],
      description: "Whether to show multiple slides in the viewport at once.",
      required: "no",
    },
    {
      name: "navigation",
      type: ["prop", "string"],
      values: "top right",
      required: "no",
      description: "The position of the navigation controls.",
    },
    {
      name: "playing",
      type: ["state", "boolean"],
      description: "Whether the carousel is playing (auto-forwarding). Corresponds to <code>playing</code> JavaScript property, which is a string with values <code>playing</code>, <code>stopped</code>, or <code>paused</code>.",
      required: "no",
    },
    {
      name: "timing",
      type: ["prop", "number"],
      description: "The time between switching slides (in seconds) when playing. Required if <code>playing</code> is present.",
      required: "no",
    },
  ],
  slots: [
    {
      name: "(default)",
      multiple: "yes",
      required: "yes",
      description: "Use to insert <code>tcds-slide</code> elements.",
    },
  ],
  methods: [
    {
      name: "play",
      description: "Begin auto-forwarding the carousel. <code>timing</code> must be specified.",
    },
    {
      name: "stop",
      description: "Stop auto-forwarding the carousel (will not resume until play button is clicked).",
    },
    {
      name: "toggle",
      description: "Begin if stopped, or stop if auto-forwarding, the carousel.",
    },
    {
      name: "pause",
      description: "Temporarily stop auto-forwarding the carousel. Internal component logic will resume auto-forwarding according to certain criteria.",
    },
    {
      name: "resume",
      description: "Begin auto-forwarding the carousel only if paused, not if stopped.",
    },
    {
      name: "select",
      description: "Selects a given slide. Parameters:<br><br><code>slide</code>: <code>HTMLElement</code> object that must be a <code>tcds-slide</code> element.<br><br><code>{}.scroll</code>: Scroll to the selected slide within the carousel viewport (default is <code>true</code>). Set to <code>false</code> to only update internal state.",
    },
  ],
}) }}


<h4 id="tcds-slide"><code>tcds-slide</code></h4>

{{ include("@tc/includes/api.twig", {
  attributes: [
    {
      name: "selected",
      type: ["state", "boolean"],
      description: "Whether the slide is currently selected (scrolled-to and centered) in the carousel viewport.",
      required: "no",
    },
  ],
  slots: [
    {
      name: "(default)",
      multiple: "yes",
      required: "no",
      description: "Use to insert slide content.",
    },
  ],
}) }}


<h4 id="styling">Styling</h4>

{{ include("@tc/includes/api.twig", {
  custom_properties: [
    {
      name: "--tcds-carousel-slide-gap",
      syntax: "<calc-value>",
      description: "The space between slides.",
      default: "0",
    },
    {
      name: "--tcds-carousel-slide-size",
      syntax: "<calc-value>",
      description: "The inline size (width) of each slide. <code>auto</code> will size the slides to their respective contents.",
      default: "100%",
    },
    {
      name: "--tcds-carousel-viewport-align-items",
      syntax: "<keyword>",
      description: "The cross axis (vertical) alignment of the slides. Must be any valid <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/align-items\"><code>align-items</code></a> value.",
      default: "center",
    },
    {
      name: "--tcds-carousel-navigation-justify",
      syntax: "<keyword>",
      description: "The main axis (horizontal) justification of carousel navigation controls (arrows and indicators). Must be any valid <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/justify-content\"><code>justify-content</code></a> value.",
      default: "center",
    },
  ],
}) }}


<h3 id="resources">Resources</h3>
<ul>
<li>Baseline conformance document: <a href="https://www.w3.org/WAI/ARIA/apg/patterns/carousel/">ARIA Authoring Practices (APG) for carousel pattern</a></li>
<li>Source code on GitHub (<a href="https://github.com/jacecotton/tcds/blob/main/src/02-components/carousel/">carousel</a>, <a href="https://github.com/jacecotton/tcds/blob/main/src/02-components/carousel/slide/">slide</a>)</li>
</ul>
<!--
Other design system/pattern library implementations:
https://styleguide.audi.com/document/2442#/-/slideshow
https://ant.design/components/carousel/
https://www.oracle.com/webfolder/ux/mobile/component/carousel.html
https://www.lightningdesignsystem.com/components/carousel/
https://getbootstrap.com/docs/4.3/components/carousel/
https://www.w3.org/TR/wai-aria-practices/#carousel
https://a11y-101.com/development/carousels
-->
{% endblock %}