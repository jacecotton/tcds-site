@use "sass:map";
@use "_variables" as *;

@function color($hue, $any-2: "300", $any-3: "background") {
  // $any-2 may be the grade or the use case ("background" or "foreground").
  // $any-3, if specified, will always be the use case.

  // If $hue is a valid hue...
  @if map.has-key($colors, $hue) {
    // If $any-2 is a valid grade...
    @if map.has-key(map.get($colors, $hue), $any-2) {
      // Return hue and grade for provided use case $any-3.
      @return map.get($colors, $hue, $any-2, $any-3);
    } @else if map.has-key(map.get($colors, $hue, "300"), $any-2) {
      // $any-2 was not a valid grade (else), so if $any-2 is a valid use case
      // in grade 300, return the use case $any-2 in hue $hue of grade 300.
      @return map.get($colors, $hue, "300", $any-2);
    }
  }
}

@function theme-color($alias, $any-2: "300", $any-3: "background") {
  @if map.has-key($theme-colors, $alias) {
    @if map.has-key(map.get($theme-colors, $alias), $any-2) {
      @return map.get($theme-colors, $alias, $any-2, $any-3);
    } @else if map.has-key(map.get($theme-colors, $alias, "300"), $any-2) {
      @return map.get($theme-colors, $alias, "300", $any-2);
    }
  }
}

@function interface-color($alias, $any-2: "300", $any-3: "background") {
  @if map.has-key($interface-colors, $alias) {
    @if map.has-key(map.get($interface-colors, $alias), $any-2) {
      @return map.get($interface-colors, $alias, $any-2, $any-3);
    } @else if map.has-key(map.get($interface-colors, $alias, "300"), $any-2) {
      @return map.get($interface-colors, $alias, "300", $any-2);
    }
  }
}